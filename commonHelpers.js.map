{"version":3,"file":"commonHelpers.js","sources":["../src/js/image-search-app.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '45026380-4529b8f9b335b30238156ee8d';\nconst searchForm = document.querySelector('.search-form');\nconst searchQueryInput = document.getElementById('searchQuery');\nconst searchButton = document.getElementById('searchButton');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\nconst form = document.querySelector('.form');\n\nconst fetchImages = async (query) => {\n  loader.style.display = 'block';\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n      }\n    });\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.'\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n};\n\nconst displayImages = (images) => {\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    \n    iziToast.info({\n      title: 'Info',\n      message: 'Sorry, there are no images matching your search query. Please try again!'\n    });\n    return;\n  }\n\n  const imageItems = images.map(image => {\n    return `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img class=\"picture\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        <p>Likes: ${image.likes} Views: ${image.views} Comments: ${image.comments} Downloads: ${image.downloads}</p>\n      </a>\n    `;\n  }).join('');\n\n  gallery.insertAdjacentHTML('beforeend', imageItems);\n  new SimpleLightbox('.gallery a', { captionsData: 'alt',\n  captionDelay: 250 }).refresh();\n};\n\nsearchButton.addEventListener('click', async () => {\n  const query = searchQueryInput.value.trim();\n  if (!query) {\n    gallery.innerHTML = '';\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query.'\n    });\n    return;\n  }\n\n  const images = await fetchImages(query);\n  displayImages(images);\n});\n\n// ---------NA click dziaÅ‚a a na submit nie----------------\n\n\n// searchButton.addEventListener('submit', async (event) => {\n//   event.preventDefault(); \n\n//   const query = searchQueryInput.value.trim();\n//   if (!query) {\n//     gallery.innerHTML = '';\n//     iziToast.warning({\n//       title: 'Warning',\n//       message: 'Please enter a search query.'\n//     });\n//     return;\n//   }\n\n//   const images = await fetchImages(query);\n//   displayImages(images);\n// });\n"],"names":["API_KEY","searchQueryInput","searchButton","gallery","loader","fetchImages","query","axios","error","iziToast","displayImages","images","imageItems","image","SimpleLightbox"],"mappings":"kHAMA,MAAMA,EAAU,qCACG,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAmB,SAAS,eAAe,aAAa,EACxDC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAClC,SAAS,cAAc,OAAO,EAE3C,MAAMC,EAAc,MAAOC,GAAU,CACnCF,EAAO,MAAM,QAAU,QACvB,GAAI,CAUF,OATiB,MAAMG,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKP,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,KAAK,IACtB,OAAQE,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRL,EAAO,MAAM,QAAU,MACxB,CACH,EAEMM,EAAiBC,GAAW,CAGhC,GAFAR,EAAQ,UAAY,GAEhBQ,EAAO,SAAW,EAAG,CAEvBF,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,0EACf,CAAK,EACD,MACD,CAED,MAAMG,EAAaD,EAAO,IAAIE,GACrB;AAAA,iBACMA,EAAM,aAAa;AAAA,oCACAA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA,oBACtDA,EAAM,KAAK,WAAWA,EAAM,KAAK,cAAcA,EAAM,QAAQ,eAAeA,EAAM,SAAS;AAAA;AAAA,KAG5G,EAAE,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaS,CAAU,EAClD,IAAIE,EAAe,aAAc,CAAE,aAAc,MACjD,aAAc,GAAG,CAAE,EAAE,SACvB,EAEAZ,EAAa,iBAAiB,QAAS,SAAY,CACjD,MAAMI,EAAQL,EAAiB,MAAM,KAAI,EACzC,GAAI,CAACK,EAAO,CACVH,EAAQ,UAAY,GACpBM,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAED,MAAME,EAAS,MAAMN,EAAYC,CAAK,EACtCI,EAAcC,CAAM,CACtB,CAAC"}